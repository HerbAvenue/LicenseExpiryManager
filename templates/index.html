{% extends 'base.html' %}

{% block head %}
<title>License Manager Login</title>
{% endblock %}

{% block body %}
<div class="container">
    <h1>Login</h1>
    <br />
    <form id="auth-form" action="{{url_for('login')}}" method="post"> <!--WHY IS URL_FOR IN JINJA2????-->
        <input 
            type="text" 
            name="username" 
            placeholder="Username" 
            class="input-field" 
        />
        <input
            type="password"
            name="password"
            placeholder="Password"
            class="input-field"
        />
        <input type="submit" value="Login" class="btn btn-login" onclick="setActionForm('login')"/>
        <input type="button" value="Register" class="btn btn-register" onclick="setActionForm('register')"/>
    </form>
</div>

<!--LEARN WHAT THIS JAVASCRIPT DOES-->
<script>    
    function setActionForm(action){
       let form = document.getElementById("auth-form");
        if (action === 'login') {
            form.action = "{{url_for('login')}}"; //WHY IS URL_FOR IN JINJA2?
            form.method = "post"
            form.submit()
        
    } else if ( action === "register" ){
        form.action = "{{url_for('register')}}"
        form.method = "post"
        form.submit()
    }
}


</script>
{% endblock %}
